% \documentclass[a4paper,10pt]{jbook}
\documentclass[a4paper,10pt]{jreport}
% \documentclass[a4paper,10pt]{jarticle}
\usepackage{listings,jlisting}
\usepackage[dvipdfmx]{graphicx,color}

% \usepackage[margin=12.7truemm]{geometry}    %% 上下左右のマージン指定
\usepackage[top=10truemm,margin=12.7truemm]{geometry}    %% 上下左右のマージン指定
\usepackage{fancyhdr}                       %% ヘッダ・フッタの編集用
% \usepackage{eclbkbox} % breaklinesとかかな

\usepackage{amsmath,amssymb}
\usepackage{mathtools}
% \mathtoolsset{showonlyrefs=true} %式番号

\usepackage{verbatim} %枠で囲う

% \renewcommand{\thesection}{\arabic{section}} %sectionを調整
% \renewcommand{\thesubsection}{(\arabic{subsection})} %subsectionを調整
% \renewcommand{\thesubsubsection}{\arabic{subsubsection}} %subsubsectionを調整

%%==== ソースコードのレイアウト
\lstset{%
	language=[x86masm]Assembler,
	breaklines=true,%改行
	numbers=left,%
	numberstyle={\scriptsize},%
	stepnumber=1,
	numbersep=1zw,%
	lineskip=-0.5ex,%
	basicstyle=\ttfamily\footnotesize\fontsize{8}{8},
	frame=single,%
	columns=[l][l]{fullflexible},
	tabsize=4,
	xleftmargin=3zw,
	xrightmargin=4zw,
	framexleftmargin=3zw, %ソースの左枠に行番号
	commentstyle={\ttfamily \color[rgb]{0,0.5,0}},
	keywordstyle={\bfseries \color[rgb]{1,0,0}},
	stringstyle={\ttfamily \color[rgb]{0,0,1}},
	literate= %特殊文字
		*{\#include}{{\textcolor[rgb]{0.7,0.3,0.5}{\#include}}}{7}
		 {\#define} {{\textcolor[rgb]{0.7,0.3,0.5}{\#define}}}{6}
		 {\#if}     {{\textcolor[rgb]{0.7,0.3,0.5}{\#if}}}{2}
		 {\#else}   {{\textcolor[rgb]{0.7,0.3,0.5}{\#else}}}{4}
		 {\#endif}  {{\textcolor[rgb]{0.7,0.3,0.5}{\#endif}}}{5}
		 {\#elif}   {{\textcolor[rgb]{0.7,0.3,0.5}{\#elif}}}{4}
		 {\#ifndef} {{\textcolor[rgb]{0.7,0.3,0.5}{\#ifndef}}}{6}
		 {\#ifdef}  {{\textcolor[rgb]{0.7,0.3,0.5}{\#ifdef}}}{5}
		 {move}     {{\textcolor[rgb]{1,0,0}{move}}}{4}
		 {jpne}     {{\textcolor[rgb]{1,0,0}{jpne}}}{4}
		 {halt}     {{\textcolor[rgb]{1,0,0}{halt}}}{4},
}

\begin{titlepage}
	\title{データベースの超初級}
	\author{Hukanzen}
	\date{\today}
	
\end{titlepage}

\begin{document}
\maketitle

\tableofcontents % 目次の表示

\chapter{はじめに}
本書は若造も良いところの，未熟ポンコツ学生が教科書\footnote{問題があれば，教えてください(震え)．}の内容を削りつつ，自分なりにわかりやすく記述する．そのため，当然間違いや，歯抜けもあるだろうが，その時は，指摘してくれると有難い\footnote{当て字をよく使うので，お見苦しければ，指摘してください．}．
\par 本書の用途としては，自分の振り返りや後輩等への教育，データベースに対するイメージ付け程度である．そのため，本書を理解したからと言って，データベースが完璧なわけではないし，本書がさっぱりわからないからと言って，データベースから遠ざかったりしないで欲しい．
特に，リレーショナルデータベースなどは，数学の集合論に基づいて作成されている．そのため，当たり前のことだが，集合論に対する理解や知識が，最低限必要となってくる．しかし，高専3年や大学1年生といった，若造は，集合論の概念はなかなかハードルが高く，存在自体知らない場合もある．
そこで，本書では極力数学的な知識を必要とせず，表や図を用いて説明を行い，補助的に数学を用いる程度に留める．
もし，数学などを通じた理論を必要として，本書を見つけたのなら，即刻引き返して欲しい．おそらく，数学とデータベースの関連に気付いている人にとっては，まったくの無価値であろう．
\par そのような中身のないものであっても，これを用いて，データベースを周知させることは大切であると考える．
世の中には，馬鹿げた話であるが，中規模で大量のデータのやり取りを行う場合でも，頑なにファイル保存から離れない開発者も存在する．データというものは，組織体にとって，共有資源であり，管理し，様々な場所に使用することに価値がある．1つのプログラムに束縛されたデータなど，それは只の呪縛でしかないのだ．
たまに，Microsoft Excelで全ての名簿や情報を取得し，管理した気になっている長がいる．何故かそういうファイルには既に消えた人の情報が根強く残っており，ふと他人が管理しようとすると，「この人まだいますか」などという会話を繰り広げることになる．
また，新規追加や編集を行う場合でも，謎のVBAや参照で固めており，周りのデータに合わせてユーザが調整しなければならない．表計算ソフトは表計算ソフトであり，データベースではないのだ．数件ならば，まだいいが，本格的に数十件単位になると，非常に不便である．
だが，そもそも何故このような状況が発生するのだろうか．それは，そもそもデータベースの存在や動作を知らないことにある．たしかに，パイプラインなどで一瞬でデータを保存できるのに対して，データベースはそもそもDBMSのインストールや使い方の勉強から始まる．
\par しかし，よく考えて欲しい，データベースに保存した場合の利便性，拡張性を．もし，複数のプログラムでデータを共有するときに，いちいちディレクトリ構造やシンボリックリンクを考えて，ファイルを置かなくてもよい．不十分なファイル移動や管理によって，データの矛盾に悩まされなくても良い．大量のExcelから，指定の場所をみつけて，行や列の挿入をしなくても良い．恐らくだが，人生単位で考えると，数日ぐらいは浮くだろう．
これらの利点を新たな人材，人財に周知することで，人類は，不要なデータの管理から，解放されることを望む．そこで，まずは非常に初歩的な部分のみを，周知することで，データベースに対する不安や恐怖を，信頼や好奇心に変換したい．本書はその部分，いわゆるデータベースに対する「取っ掛かり」部分を補助することを目標とする\footnote{深夜に書いているため，統一性がないかも}．
\par 繰り返すが，本書は，あくまで，データベースに対する印象づけや，感覚を養う程度であり，理論に関しては，全く役に立たないことを御理解頂きたい．

\chapter{データベースとは}
% 教科書第1章周辺
\section{データベース}
データベース\footnote{DB}とは，コンピュータ内に構築された「実世界の写し絵」である．実世界のものを，データモデル\footnote{記号系}を用いて，データモデリング\footnote{実世界のデータ化する過程}することで，データベースを作成することができる．
そして，データベース管理システムを用いて，データを管理\footnote{取得，挿入，更新など}する．
\par 用語としての「データベース」は主に，2つの意味を持つ．
\begin{itemize}
	\item コンテンツとしてのデータの格納庫
	\item Oracle，MySQL，PostgreSQLなどの，データベース管理システム
\end{itemize}
\par しかし，それをいうと，Google等で検索できるインターネットの情報は，地球規模のデータベースになってしまう．原義を考えると「データの基地」なので，ケースバイケースで読み取ろう．

\subsection{データモデル}
\par 現在，データモデルには，大きく分けると3つ存在する．これらは世代ごとに順になっている．
\begin{description}
	\item[第1世代] ネットワーク・データモデル，ハイアラキカル・データモデル
	\item[第2世代] リレーショナル・データモデル\footnote{関係モデル}
	\item[第3世代] オブジェクト指向・データモデル
\end{description}
一般的には，リレーショナル・データモデルに基づいた，リレーショナル・データベース\footnote{関係データベース}が広く使われおり，講義で行う内容もリレーショナル・データベース中心であることが多い．
\par 第1世代は，1960年代当時のコンピュータ事情に即して，考案された．親子集合とレコード型の要素を用いており，レコードとレコードは，ポインタで関連付けられる．そのため，細かなデータを得る場合は，繰り返し親から子に辿る必要があり，非効率である．
第2世代は，徹底的にフォーマルなデータモデルであり，数学の集合論に基づいて作成されてる．全てのデータを表で管理し，リレーショナル代数やリレーショナル論理を用いて，データ集合を得る．従って，ポインタやレコードの実装技術などとは，全く無関係である．なお，用語として，行を示すことを「レコード」と呼ぶことがあるが，恐らく間違った使い方である．
第3世代は，CAD等のエンジニアリングデータやマルチメディアデータ，文書や図版が入り混じった文書データなどの部品展開構造を持つ，複合オブジェクトを表現するのに向いている．
\par 以上より，実世界では同じ内容でも，データモデルの違いにより，異なって表現される．本来は，データベースに格納するデータに合わせて，それに適したデータモデルを使うべきである．しかしながら，一般的には，リレーショナル・データモデルで全て解決させてしまうことが多い．

\subsection{データベース管理システム}
データベース管理システム\footnote{DataBase Management System}とは，データベースに存在するデータを「管理」するシステムである．商用，オープンソースでは，Oracle，SQL Server，PostgreSQL，MySQL，Maria DBなどを指す．
通常，OS\footnote{Operating System}の力を借りて，その上で稼働するミドルウェアである．基本的に，次に示す3つの機能を有する．
\begin{itemize}
	\item メタデータ管理機能
	\item 質問処理機能
	\item トランザクション管理機能
\end{itemize}
\par メタデータ管理機能とは，「データのデータ」としてのメタデータを管理する．データベースのデータ構造などを管理するデータでありそのデータの管理を行う．
ユーザとDBMSそのものに対して用いられる．ユーザに対して中にどのようなデータがどのように格納されているかを示す．DBMSに対しては，自分が管理しているデータの種類，サイズ，インデックス，アクセス件など，基本的な情報提供に不可欠なものである．
質問処理機能とは，文字通り，ユーザやアプリケーションが要求する「質問」に対し，処理を行う．特にリレーショナル・データベースでは，SQLに代表される，質問言語を用いる
．トランザクションとは，DBMSに対するアプリケーションレベルの仕事の単位である．障害時回復，同時実行制御の2つの機能を有しており，一貫性の保持や，複数人の同時実行を行う．

\subsection{データベースとファイルの違い}
データベースに比較して，プログラムごとにデータをファイル保存する手法がある．C言語ならば，FILE構造体を用いて，fprintf()，fscanf()関数などで，ファイルに対して入出力を行える．
しかし，この場合だと，データはプログラムに従属する形になり，無秩序になりがちである．また，データ形式の違いから，同じデータを複数保存したり，プログラムによるアクセスのタイミングから矛盾が発生することがある．
また，近年は，Microsoft Excelなどの高機能な表計算ソフトの登場により，表計算ソフトをデータ保存に用いている場合も有る．この場合，一見，完璧に一元管理が可能なように見えるが，異なるファイルに対しては，同様に矛盾が発生しやすく，一元管理がなされないことが多い．
\par データベースに関しては，DBMSを用いることで，決まった形にデータを保存することが可能である．また，全てのプログラムから1つのデータベースにアクセスすることで，重複や矛盾を排除し，データを一元管理することができる．データは共有資源にすることに意味があり，様々なプログラムからのアクセスに，対応させることは必須である．



\end{document}

